{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":["file:///Users/plana/Desktop/test/src/components/chatinterface.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef, useEffect } from 'react';\nimport { useChat } from 'ai/react';\nimport Image from 'next/image';\nimport { Send, CornerDownLeft, Mic, Paperclip } from 'lucide-react';\nimport ReactMarkdown from 'react-markdown';\nimport { ChatMessage } from '@/lib/chatbot';\n\ninterface ChatInterfaceProps {\n  messages: ChatMessage[];\n  input: string;\n  handleInputChange: (e: React.ChangeEvent<HTMLInputElement> | React.ChangeEvent<HTMLTextAreaElement>) => void;\n  handleSubmit: (e: React.FormEvent<HTMLFormElement>) => void;\n  isLoading: boolean;\n  className?: string;\n  isDarkMode?: boolean;\n}\n\nconst ChatInterface: React.FC<ChatInterfaceProps> = ({\n  messages,\n  input,\n  handleInputChange,\n  handleSubmit,\n  isLoading,\n  className = '',\n  isDarkMode = false\n}) => {\n  const scrollRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (scrollRef.current) {\n      scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n    }\n  }, [messages]);\n\n  return (\n    <div className={`flex flex-col h-full max-h-screen ${className} ${isDarkMode ? 'dark' : ''}`}>\n      {/* Header */}\n      <div className={`flex items-center gap-4 px-8 py-6 rounded-t-3xl shadow-lg border-b ${isDarkMode ? 'bg-gray-800/70 border-white/20' : 'bg-white/70 border-white/30'}`}\n           style={{ backdropFilter: 'blur(12px)', WebkitBackdropFilter: 'blur(12px)' }}>\n        <div className=\"w-14 h-14 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-full flex-shrink-0 relative overflow-hidden ring-4 ring-white/20\">\n          <Image\n            src=\"/assets/images/avataaars.png\"\n            alt=\"Cayla Avatar\"\n            fill\n            sizes=\"56px\"\n            style={{ objectFit: 'cover' }}\n            priority\n          />\n        </div>\n        <div>\n          <h1 className={`text-xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Chat with Cayla</h1>\n          <p className={`text-sm ${isDarkMode ? 'text-gray-300' : 'text-gray-500'}`}>\n            Your private AI guide for emotional clarity\n          </p>\n        </div>\n      </div>\n\n      {/* Messages */}\n      <div ref={scrollRef} className=\"flex-1 overflow-y-auto p-6 space-y-6\">\n        {messages.map((m) => (\n          <div key={m.id} className={`flex items-end gap-3 ${m.sender === 'user' ? 'justify-end' : 'justify-start'}`}>\n            {m.sender === 'bot' && (\n              <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-indigo-500 flex-shrink-0\">\n                <Image src=\"/assets/images/avataaars.png\" alt=\"Cayla Avatar\" width={40} height={40} className=\"rounded-full\" />\n              </div>\n            )}\n            <div className={`px-4 py-3 rounded-2xl max-w-md shadow-md ${m.sender === 'user' \n              ? 'bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-br-none' \n              : 'bg-gray-100 text-gray-800 rounded-bl-none'\n            }`}>\n              <ReactMarkdown>\n                {m.message}\n              </ReactMarkdown>\n            </div>\n            {m.sender === 'user' && (\n              <div className=\"w-10 h-10 rounded-full bg-gray-200 flex-shrink-0\" />\n            )}\n          </div>\n        ))}\n        {isLoading && (\n          <div className=\"flex items-end gap-3 justify-start\">\n            <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-indigo-500 flex-shrink-0\">\n              <Image src=\"/assets/images/avataaars.png\" alt=\"Cayla Avatar\" width={40} height={40} className=\"rounded-full\" />\n            </div>\n            <div className=\"p-4 rounded-2xl max-w-md shadow-md bg-gray-100 text-gray-800 rounded-bl-none\">\n              <div className=\"flex items-center space-x-1\">\n                <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-pulse delay-75\"></div>\n                <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-pulse delay-150\"></div>\n                <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-pulse delay-300\"></div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Input Form */}\n      <div className=\"p-4 border-t border-gray-200 bg-white\">\n        <form onSubmit={handleSubmit} className=\"flex items-center gap-3\">\n          <textarea\n            value={input}\n            onChange={handleInputChange}\n            placeholder=\"Ask Cayla anything...\"\n            rows={1}\n            className=\"flex-1 p-3 bg-gray-100 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-indigo-400 transition-all\"\n          />\n          <button\n            type=\"submit\"\n            disabled={isLoading || !input.trim()}\n            className=\"w-11 h-11 bg-gradient-to-br from-indigo-500 to-purple-600 text-white rounded-lg flex items-center justify-center transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:scale-100 disabled:cursor-not-allowed shadow-md hover:shadow-lg\"\n          >\n            <Send size={20} />\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default ChatInterface;"],"names":[],"mappings":";;;;AAEA;AAEA;AACA;AACA;AANA;;;;;;AAmBA,MAAM,gBAA8C,CAAC,EACnD,QAAQ,EACR,KAAK,EACL,iBAAiB,EACjB,YAAY,EACZ,SAAS,EACT,YAAY,EAAE,EACd,aAAa,KAAK,EACnB;IACC,MAAM,YAAY,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAkB;IAEzC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,UAAU,OAAO,EAAE;YACrB,UAAU,OAAO,CAAC,SAAS,GAAG,UAAU,OAAO,CAAC,YAAY;QAC9D;IACF,GAAG;QAAC;KAAS;IAEb,qBACE,8OAAC;QAAI,WAAW,CAAC,kCAAkC,EAAE,UAAU,CAAC,EAAE,aAAa,SAAS,IAAI;;0BAE1F,8OAAC;gBAAI,WAAW,CAAC,mEAAmE,EAAE,aAAa,mCAAmC,+BAA+B;gBAChK,OAAO;oBAAE,gBAAgB;oBAAc,sBAAsB;gBAAa;;kCAC7E,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,6HAAA,CAAA,UAAK;4BACJ,KAAI;4BACJ,KAAI;4BACJ,IAAI;4BACJ,OAAM;4BACN,OAAO;gCAAE,WAAW;4BAAQ;4BAC5B,QAAQ;;;;;;;;;;;kCAGZ,8OAAC;;0CACC,8OAAC;gCAAG,WAAW,CAAC,kBAAkB,EAAE,aAAa,eAAe,iBAAiB;0CAAE;;;;;;0CACnF,8OAAC;gCAAE,WAAW,CAAC,QAAQ,EAAE,aAAa,kBAAkB,iBAAiB;0CAAE;;;;;;;;;;;;;;;;;;0BAO/E,8OAAC;gBAAI,KAAK;gBAAW,WAAU;;oBAC5B,SAAS,GAAG,CAAC,CAAC,kBACb,8OAAC;4BAAe,WAAW,CAAC,qBAAqB,EAAE,EAAE,MAAM,KAAK,SAAS,gBAAgB,iBAAiB;;gCACvG,EAAE,MAAM,KAAK,uBACZ,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC,6HAAA,CAAA,UAAK;wCAAC,KAAI;wCAA+B,KAAI;wCAAe,OAAO;wCAAI,QAAQ;wCAAI,WAAU;;;;;;;;;;;8CAGlG,8OAAC;oCAAI,WAAW,CAAC,yCAAyC,EAAE,EAAE,MAAM,KAAK,SACrE,2EACA,6CACF;8CACA,cAAA,8OAAC,wLAAA,CAAA,UAAa;kDACX,EAAE,OAAO;;;;;;;;;;;gCAGb,EAAE,MAAM,KAAK,wBACZ,8OAAC;oCAAI,WAAU;;;;;;;2BAfT,EAAE,EAAE;;;;;oBAmBf,2BACC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC,6HAAA,CAAA,UAAK;oCAAC,KAAI;oCAA+B,KAAI;oCAAe,OAAO;oCAAI,QAAQ;oCAAI,WAAU;;;;;;;;;;;0CAEhG,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;;;;;;sDACf,8OAAC;4CAAI,WAAU;;;;;;sDACf,8OAAC;4CAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAQzB,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACtC,8OAAC;4BACC,OAAO;4BACP,UAAU;4BACV,aAAY;4BACZ,MAAM;4BACN,WAAU;;;;;;sCAEZ,8OAAC;4BACC,MAAK;4BACL,UAAU,aAAa,CAAC,MAAM,IAAI;4BAClC,WAAU;sCAEV,cAAA,8OAAC,kMAAA,CAAA,OAAI;gCAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMxB;uCAEe","debugId":null}},
    {"offset": {"line": 349, "column": 0}, "map": {"version":3,"sources":["file:///Users/plana/Desktop/test/src/app/chat/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react';\nimport ChatInterface from '@/components/chatinterface';\nimport { ChatMessage } from '@/lib/chatbot';\n\nexport default function ChatPage() {\n  const [messages, setMessages] = useState<ChatMessage[]>([]);\n  const [input, setInput] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement> | React.ChangeEvent<HTMLTextAreaElement>) => {\n    setInput(e.target.value);\n  };\n\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (!input.trim()) return;\n\n    const userMessage: ChatMessage = {\n      id: Date.now().toString(),\n      sender: 'user',\n      message: input,\n      timestamp: new Date(),\n    };\n\n    setMessages((prev) => [...prev, userMessage]);\n    const currentInput = input;\n    setInput('');\n    setIsLoading(true);\n\n    try {\n      const response = await fetch('/api/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ message: currentInput }),\n      });\n\n      const data = await response.json();\n\n      const botMessage: ChatMessage = {\n        id: Date.now().toString(),\n        sender: 'bot',\n        message: data.reply,\n        timestamp: new Date(),\n      };\n\n      setMessages((prev) => [...prev, botMessage]);\n    } catch (error) {\n      console.error('Error fetching chat response:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"flex justify-center items-center h-screen bg-gray-50\">\n      <div className=\"w-full max-w-2xl h-full md:h-[90vh] md:max-h-[800px] flex flex-col bg-white rounded-2xl shadow-2xl border border-gray-200\">\n        <ChatInterface\n          messages={messages}\n          input={input}\n          handleInputChange={handleInputChange}\n          handleSubmit={handleSubmit}\n          isLoading={isLoading}\n          className=\"h-full\"\n        />\n      </div>\n    </div>\n  );\n} "],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAMe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB,EAAE;IAC1D,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,oBAAoB,CAAC;QACzB,SAAS,EAAE,MAAM,CAAC,KAAK;IACzB;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,IAAI,CAAC,MAAM,IAAI,IAAI;QAEnB,MAAM,cAA2B;YAC/B,IAAI,KAAK,GAAG,GAAG,QAAQ;YACvB,QAAQ;YACR,SAAS;YACT,WAAW,IAAI;QACjB;QAEA,YAAY,CAAC,OAAS;mBAAI;gBAAM;aAAY;QAC5C,MAAM,eAAe;QACrB,SAAS;QACT,aAAa;QAEb,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,aAAa;gBACxC,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE,SAAS;gBAAa;YAC/C;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,MAAM,aAA0B;gBAC9B,IAAI,KAAK,GAAG,GAAG,QAAQ;gBACvB,QAAQ;gBACR,SAAS,KAAK,KAAK;gBACnB,WAAW,IAAI;YACjB;YAEA,YAAY,CAAC,OAAS;uBAAI;oBAAM;iBAAW;QAC7C,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,iCAAiC;QACjD,SAAU;YACR,aAAa;QACf;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC,mIAAA,CAAA,UAAa;gBACZ,UAAU;gBACV,OAAO;gBACP,mBAAmB;gBACnB,cAAc;gBACd,WAAW;gBACX,WAAU;;;;;;;;;;;;;;;;AAKpB","debugId":null}}]
}